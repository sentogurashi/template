<%
const page = sitedata.pages.about.kosugiyu;
const replaceToBr = (str) => {return str.replace(/\n/g, '<br>')}; %>
<% function extend(buf) { %>
<div class="Feature">
  <div class="Feature__photoWrapper">
    <div class="Feature__photoMain js-Feature__photoMain" style="background-image:url('../../images/standalone/about/kosugiyu/photo_main.jpg')"></div>
    <%- include ../_layout/_wave %>
  </div>

  <h1 class="Feature__headingLv1"><%= page.content.headingMain %></h1>

  <div class="Feature__inner">
    <h2 class="Feature__headingLv2"><%- replaceToBr(page.content.section[0].headingSub) %></h2>
    <p class="Feature__text"><%= replaceToBr(page.content.section[0].text) %></p>
  </div>

  <div class="Feature__photoWrapper">
    <div class="Feature__photoSub js-Feature__photoSub" style="background-image:url('../../images/standalone/about/kosugiyu/photo_sub1.jpg')"></div>
  </div>

  <div class="Feature__inner">
    <h2 class="Feature__headingLv2"></h2>

    <div class="Feature__defList">
<% page.content.section[1].defList.forEach((definition) => { %>
      <dl class="Feature__defListRow">
        <dt><%= definition.title %></dt>
        <dd><%= definition.description %></dd>
      </dl>
<% }); %>
    </div>

    <div class="Feature__mapWrapper">
      <div class="Feature__map js-Feature__map"></div>
    </div>
  </div>

  <div class="Feature__photoWrapper">
    <div class="Feature__photoSub js-Feature__photoSub" style="background-image:url('../../images/standalone/about/kosugiyu/photo_sub2.jpg')"></div>
  </div>

</div>
<script>
document.addEventListener('DOMContentLoaded', function() {
  var position = new google.maps.LatLng(35.708082, 139.648879);
  var map = new google.maps.Map(
    document.querySelector('.js-Feature__map'), {
      zoom: 16,
      center: position,
      scrollWheel: false,
      // disable UI controls
      mapTypeControl: false,
      scaleControl: false,
      streetViewControl: false,
      rotateControl: false,
      fullscreenControl: false
    }
  )
  map.setOptions({
    styles: [{
      stylers: [{
        saturation: -100
      }]
    }]
  });
  var marker = new google.maps.Marker({
    position: position,
    map: map
  })
});
</script>
<% }
function insertMetaTag(buf) { %>
<meta property="og:type" content="article"/>
<% }
const resource = {
  page: page,
  css: [
    '../../styles/common.css',
    '../../styles/feature.css'
  ],
  js: [
    '../../scripts/lib/jquery-3.2.1.min.js',
    '../../scripts/common.bundle.js',
    '../../scripts/feature.bundle.js',
    'https://maps.googleapis.com/maps/api/js?key=AIzaSyB4I0l_TnkmiAjPeKgJJ6OOy27h_5uFtxk'
  ],
  insertMetaTagFlag: true
};
%>
<% include ../_layout/_base %>